:root{--primary-red: #D92121;--dark-red: #8B0000;--gold: #FFD700;--bg-color: #FFF5F5}*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}html,body{height:100%;font-family:PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;background:radial-gradient(circle at 50% 30%,#fffbf0,#fff5e6,#ffeec2);overflow:hidden}body:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(../bg1.png);background-size:90px auto;background-repeat:repeat;opacity:.3;pointer-events:none;z-index:0}#bg-animation{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;overflow:hidden}.falling-emoji{position:absolute;top:-50px;font-size:2rem;animation-name:fall;animation-timing-function:linear;animation-iteration-count:infinite;opacity:.8}@keyframes fall{0%{transform:translateY(-50px) rotate(0);opacity:0}10%{opacity:1}to{transform:translateY(110vh) rotate(360deg);opacity:.6}}.glass-panel{background:#fff6;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);position:relative;border:2px solid rgba(255,255,255,.7);border-top-color:#ffffffe6;border-bottom-color:#ffffff4d;border-left-color:#ffffff80;border-right-color:#ffffff80;box-shadow:0 8px 32px #d921210d,inset 0 0 0 1px #fff3;border-radius:20px;padding:20px;width:90%;max-width:500px;z-index:10;display:flex;flex-direction:column;gap:20px}.game-layout{display:flex;flex-direction:column;align-items:center;width:100%}@media (min-width: 768px){.glass-panel{max-width:600px;padding:40px}.game-layout{flex-direction:column;align-items:center;gap:30px}.flip-container{margin-bottom:0;width:100%;max-width:400px}.input-area{width:100%;max-width:400px}}#app{width:100%;height:100%;max-width:500px;margin:0 auto;position:relative;overflow:hidden;z-index:1}.screen{position:absolute;top:0;left:0;width:100%;height:100%;display:none;flex-direction:column;align-items:center;padding:40px 20px;overflow-y:auto}.screen.active{display:flex}#start-screen{justify-content:center;background:transparent;position:relative;overflow:hidden}#start-screen:before{content:none}.start-footer{position:relative;margin-bottom:25px;width:100%;text-align:center;color:#5e3c35;font-size:1.5rem;font-weight:600;letter-spacing:1px;z-index:5;text-shadow:none;display:flex;justify-content:center;align-items:center;gap:15px}.slots-container{display:flex;gap:8px;height:1.8em;overflow:hidden;padding:0 10px;font-size:1.8rem}.slot-item{display:inline-block;width:1.5em;text-align:center;line-height:1.8em}.rolling{animation:bounce .5s ease-out}@keyframes sparkle{0%{transform:translate(0)}to{transform:translate(50px,50px)}}.title,.intro-box,#btn-start{position:relative;z-index:5}.title{margin-bottom:25px;text-align:center;position:relative;z-index:5}.title-main{display:flex;justify-content:center;gap:8px;padding:15px 0 25px}.char-wrapper{position:relative;width:85px;height:85px;display:flex;justify-content:center;align-items:center;transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.char-wrapper:nth-child(odd){transform:rotate(-4deg) translateY(2px)}.char-wrapper:nth-child(2n){transform:rotate(3deg) translateY(-2px)}.char-wrapper:hover{transform:scale(1.15) rotate(0)!important;z-index:10}.char-bg{position:absolute;width:100%;height:100%;background:linear-gradient(135deg,#ff7e5f,#feb47b);background:linear-gradient(135deg,#ff512f,#dd2476);border-radius:20px;box-shadow:0 6px #a01a4c,0 10px 15px #a01a4c40;z-index:1}.char-wrapper:nth-child(odd) .char-bg{background:linear-gradient(135deg,#ff416c,#ff4b2b);box-shadow:0 6px #bf2e1b,0 10px 15px #bf2e1b40}.char-wrapper:nth-child(2n) .char-bg{background:linear-gradient(135deg,#fcb045,#fd1d1d);box-shadow:0 6px #b91515,0 10px 15px #b9151540}.char-text{position:relative;z-index:2;font-size:2.8rem;font-weight:900;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.15);transform:translateY(-5px);pointer-events:none}.title-sub{display:none}.intro-box{background:#d42a15bf;padding:20px 25px;border-radius:20px;margin-bottom:40px;border:1px solid rgba(255,215,0,.3);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:inline-block;max-width:90%}.intro-box p{margin:10px 0;font-size:1.1rem;color:#fff}.btn-primary,.btn-action,.btn-secondary{padding:16px 50px;font-size:1.3rem;font-weight:700;border:none;border-radius:50px;cursor:pointer;transition:transform .1s,box-shadow .1s;position:relative;z-index:5}.btn-primary{background:linear-gradient(to bottom,gold,#fa0);color:#8b0000;box-shadow:inset 0 1px #fff6,0 5px #c80,0 8px 15px #cc88004d;text-shadow:0 1px 0 rgba(255,255,255,.2)}.btn-action{background:linear-gradient(135deg,var(--primary-red) 0%,#FF6B6B 100%);color:#fff;box-shadow:0 4px 0 var(--dark-red);padding:12px 30px;font-size:1.1rem}.btn-secondary{background:linear-gradient(to bottom,#ffffffd9,#fff9);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);color:#8b4513;border:1px solid rgba(255,255,255,.9);padding:12px 20px;font-size:1.1rem;font-weight:700;box-shadow:0 3px 6px #8b451326;transition:all .2s ease}.btn-secondary:hover{background:#ffffffe6;transform:translateY(-2px);box-shadow:0 5px 10px #8b451333;color:#723a0f}.btn-text{background:none;border:none;color:#ffffffb3;font-size:.9rem;cursor:pointer;padding:10px}#game-screen{background:transparent;padding-top:20px;align-items:center;justify-content:center}.header{display:flex;justify-content:space-between;align-items:center;width:100%;padding:0 10px;margin-bottom:20px}.score-pill,.progress-pill{background:#fff;padding:8px 15px;border-radius:20px;font-weight:700;box-shadow:0 2px 10px #0000001a}#quiz-display-area{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 0;width:100%;min-height:200px}.emoji-display{font-size:3.5rem;margin-bottom:20px;letter-spacing:normal;display:flex;flex-wrap:wrap;justify-content:center;gap:15px;line-height:1.2;filter:drop-shadow(0 4px 4px rgba(0,0,0,.1));transition:transform .3s cubic-bezier(.175,.885,.32,1.275)}#status-wrapper{width:100%;height:100px;position:relative;display:flex;justify-content:center;align-items:flex-start}.feedback-container{position:absolute;top:0;left:0;width:100%;margin-bottom:0}.hint-text{color:#888;font-size:1rem;background:transparent;padding:5px 15px;z-index:1}.feedback-container{z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;animation:popIn .5s cubic-bezier(.175,.885,.32,1.275);background:transparent;padding:10px;margin-bottom:20px;width:100%}.feedback-row-top{display:flex;flex-direction:row;align-items:center;gap:8px}.feedback-icon{font-size:1.6rem;margin-bottom:2px}#feedback-text{font-size:1.6rem;font-weight:900;margin-bottom:2px}#feedback-answer{font-size:1.1rem;color:#555;font-weight:600;margin-top:5px}#feedback-answer{font-size:1rem;color:#555;font-weight:600}@keyframes popIn{0%{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}@media (max-height: 500px){#game-screen{justify-content:flex-start;padding-top:10px}.header{margin-bottom:5px;transform:scale(.9)}#quiz-display-area{min-height:auto;padding:5px 0;flex:1;justify-content:center}.emoji-display{font-size:2.2rem;margin-bottom:5px;filter:none}#status-wrapper{height:60px}.feedback-container{padding:0;gap:2px}.feedback-icon,#feedback-text{font-size:1.2rem}.input-area{gap:8px;margin-bottom:10px}#answer-input{padding:8px;font-size:1rem}.btn-action,.btn-secondary{padding:8px 15px;font-size:.9rem}}.input-area{width:90%;max-width:350px;display:flex;flex-direction:column;gap:15px;transition:all .3s ease}#answer-input{width:100%;padding:15px 20px;font-size:1.2rem;border:2px solid #DDD;border-radius:15px;text-align:center;outline:none;transition:border-color .2s}#answer-input:focus{border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b33}.btn-primary:active,.btn-action:active,.btn-secondary:active,.btn-text:active{transform:translateY(4px);box-shadow:none}#result-screen{justify-content:center;background:var(--bg-color);text-align:center}.subtitle{color:var(--primary-red);font-size:2rem;margin-bottom:30px}.final-score{background:#fff;width:200px;height:200px;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:30px;box-shadow:0 10px 30px #0000001a;border:5px solid var(--gold)}.final-score .label{color:#888;font-size:1rem}.final-score .value{font-size:4rem;font-weight:700;color:var(--dark-red)}#result-comment{margin-bottom:40px;font-size:1.2rem;color:#555;padding:0 20px}.current-settings{width:90%;margin-bottom:40px;z-index:5;position:relative;display:flex;flex-direction:column;align-items:center}.click-hint{margin-top:5px;font-size:.85rem;color:#8b4513;opacity:.6;pointer-events:none;font-weight:500}@keyframes bounceAndFade{0%,to{transform:translateY(0);opacity:.6}50%{transform:translateY(-3px);opacity:.9}}.setting-summary-card{background:#ffffff80;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:20px;padding:20px 25px 15px;box-shadow:0 8px 32px #1f26870d;display:flex;flex-direction:column;gap:10px;align-items:center;position:relative;cursor:pointer;transition:transform .1s,box-shadow .1s;border:1px solid rgba(255,255,255,.6);width:100%}.summary-items-container{display:flex;justify-content:space-around;width:100%;align-items:center}.summary-item{display:flex;flex-direction:column;align-items:center;gap:5px}.summary-item .label{font-size:.95rem;color:#888;font-weight:500}.summary-item .value{font-size:1.6rem;font-weight:900;color:var(--primary-red);text-shadow:1px 1px 0px rgba(255,215,0,.3)}.setting-summary-card:active{transform:scale(.98)}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);display:flex;justify-content:center;align-items:flex-end;z-index:1000;opacity:0;pointer-events:none;transition:opacity .3s}.modal.active{opacity:1;pointer-events:auto}.modal.hidden{display:none!important}.bank-modal-content{background:#fff;border-radius:25px 25px 0 0;padding:20px;width:100%;max-width:600px;min-height:auto;max-height:85vh;overflow-y:auto;box-shadow:0 -10px 40px #0003;transform:translateY(100%);transition:transform .3s cubic-bezier(.16,1,.3,1);scrollbar-width:none;-ms-overflow-style:none}.bank-modal-content::-webkit-scrollbar{display:none}.modal.active .bank-modal-content{transform:translateY(0)}@media (min-width: 600px){.modal{align-items:center}.bank-modal-content{border-radius:25px;width:90%;max-width:400px;min-height:auto;height:auto;transform:scale(.9)}.modal.active .bank-modal-content{transform:scale(1)}}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header h3{margin:0;font-size:1.3rem;color:var(--dark-red)}.btn-close{background:#f0f0f0;border:none;width:30px;height:30px;border-radius:50%;font-weight:700;color:#666;cursor:pointer}.setting-section{margin-bottom:15px}.setting-section h4{margin-bottom:12px;color:#555;font-size:1rem}.full-width{width:100%;display:flex;flex-wrap:wrap;gap:10px}.btn-full{width:100%;padding:14px;border-radius:50px;margin-top:5px}.bank-option{display:block;cursor:pointer;margin-bottom:10px;width:calc(50% - 5px)}.count-option{display:block;cursor:pointer;margin-bottom:10px}.vertical-stack{display:flex;flex-direction:column;width:100%;gap:10px}.option-card{background:#f9f9f9;border:2px solid #eee;border-radius:12px;padding:12px 15px;text-align:left;transition:all .2s;font-weight:500;color:#444;display:flex;align-items:center;justify-content:space-between;font-size:1rem;position:relative}.bank-option input,.count-option input{display:none}.red-marker{opacity:0;color:var(--primary-red);font-weight:700;font-size:1.2rem;transition:opacity .2s}input:checked+.option-card{border-color:var(--primary-red);background:#fff5f5;color:var(--primary-red);font-weight:700;box-shadow:0 4px 10px #d9212126}input:checked+.option-card .red-marker{opacity:1}.btn-block-wide{width:90%;padding:22px;font-size:1.6rem;display:block;margin-top:20px;border-radius:60px}.btn-icon-home{background:#fff;border:none;font-size:1.2rem;padding:8px 12px;border-radius:20px;cursor:pointer;box-shadow:0 2px 10px #0000001a;transition:transform .1s;display:flex;align-items:center;justify-content:center}.btn-icon-home:active{transform:scale(.95)}.header-stats{display:flex;gap:10px}@media (max-height: 600px){.screen{padding:10px 10px 300px;justify-content:flex-start}.header{display:none}.flip-container{height:180px;margin-bottom:10px}.emoji-display{font-size:2.8rem;margin-bottom:5px;gap:8px}.hint-text{font-size:.9rem;margin:5px 0}.input-area{gap:8px;margin-top:5px}#answer-input{padding:10px}.btn-action,.btn-secondary{padding:10px;margin-top:0}}.title-seg{display:inline-block;white-space:nowrap}
